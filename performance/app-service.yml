  app-mqtt-sample_INDEX:
    command:
      - --registry
      - -cp=keeper.http://edgex-core-keeper:59890
    container_name: edgex-app-mqtt-sample_INDEX
    depends_on:
      core-common-config-bootstrapper:
        condition: service_started
        required: true
      core-keeper:
        condition: service_started
        required: true
      core-metadata:
        condition: service_started
        required: true
    environment:
      EDGEX_PROFILE: mqtt-sample_INDEX
      EDGEX_SECURITY_SECRET_STORE: "false"
      SERVICE_HOST: edgex-app-mqtt-sample_INDEX
    hostname: edgex-app-mqtt-sample_INDEX
    image: nexus3.edgexfoundry.org:10004/app-service-configurable${USE_ARM64}:latest
    networks:
      edgex-network: null
    read_only: true
    restart: always
    security_opt:
      - no-new-privileges:true
    user: 2002:2001
    volumes:
      - type: bind
        source: /etc/localtime
        target: /etc/localtime
        read_only: true
        bind:
          create_host_path: true
      - type: bind
        source: ${WORK_DIR}/app_conf/mqtt-sample_INDEX
        target: /res/mqtt-sample_INDEX
        read_only: true
        bind:
          create_host_path: true
